<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Flores Amarillas ‚Äî Para Ti</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
<style>
  :root{
    --sky-a:#fff9e9; --sky-b:#ffe7ac; --sky-c:#ffd36a;
    --grass-a:#6dd197; --grass-b:#55c883;
    --stem:#2e9e44; --leaf:#37a64d;
    --petal-a:#fff3a7; --petal-b:#ffd841; --petal-c:#ffc200;
    --center:#b78100;
    --card-bg:rgba(255,255,255,.75);
    --shadow:0 10px 28px rgba(0,0,0,.12);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; overflow:hidden;
    font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    color:#3c3c3c;
    background:
      radial-gradient(1200px 600px at 20% 12%, rgba(255,255,255,.35) 0 40%, transparent 60%),
      radial-gradient(900px 500px at 80% 18%, rgba(255,255,255,.25) 0 40%, transparent 60%),
      linear-gradient(180deg,var(--sky-a) 0%, var(--sky-b) 55%, var(--sky-c) 100%);
  }

  /* Tarjeta */
  .card{
    position:absolute; left:50%; top:20px; transform:translateX(-50%);
    width:min(800px,92vw); padding:22px 26px; text-align:center;
    background:var(--card-bg); backdrop-filter:blur(6px);
    border-radius:20px; box-shadow:var(--shadow); opacity:0; animation:fade-in .8s ease forwards .2s;
  }
  .title{font-family:"Playfair Display",serif; margin:0 0 6px; color:#5a3d1e; letter-spacing:.4px; font-weight:700; font-size:clamp(22px,4.2vw,36px)}
  .subtitle{margin:0; font-weight:400; color:#6b4a1f; font-size:clamp(14px,2.5vw,18px)}
  .note{margin:.6rem 0 0; font-size:clamp(12px,2.2vw,14px); color:#7a5a2b}
  @keyframes fade-in{to{opacity:1}}

  /* Colinas y pradera */
  .hills{
    position:absolute; inset:0; pointer-events:none;
  }
  .hill{
    position:absolute; left:-5vw; right:-5vw; height:36vh; bottom:20vh; border-radius:50%/100% 100% 0 0;
    background:linear-gradient(180deg, #9cda89, #7bd27a 60%, #6bcf73);
    filter:blur(0.7px); transform:translateZ(0);
    animation:parallax1 8s ease-in-out infinite;
  }
  .hill:nth-child(2){
    height:30vh; bottom:15vh; background:linear-gradient(180deg,#8bd07b,#6fcc6c 60%,#5dc563);
    animation:parallax2 9s ease-in-out infinite;
  }
  @keyframes parallax1{50%{transform:translateX(6px)}}
  @keyframes parallax2{50%{transform:translateX(-6px)}}

  /* Cesped base */
  .meadow{
    position:absolute; left:-2vw; right:-2vw; bottom:-2vh; height:28vh;
    background:linear-gradient(180deg,var(--grass-a),var(--grass-b));
    border-top-left-radius:50% 20vh; border-top-right-radius:50% 20vh;
    box-shadow:inset 0 10px 20px rgba(0,0,0,.12);
  }
  .meadow::after{ /* textura suave */
    content:""; position:absolute; inset:0;
    background:repeating-linear-gradient(160deg, rgba(255,255,255,.06) 0 6px, transparent 6px 14px);
    opacity:.25; pointer-events:none;
  }

  /* Jard√≠n */
  .garden{ position:absolute; inset:0; pointer-events:none; }
  .flower{
    position:absolute; bottom:22vh; /* base sobre la pradera */
    transform-origin:50% 100%;
    will-change:transform, opacity;
    animation:sway 3.8s ease-in-out infinite 1.2s;
  }
  /* Tallo */
  .stem{
    position:absolute; left:50%; bottom:0; width:4px; transform:translateX(-50%);
    height:0; background:linear-gradient(180deg, #2ea242, #278d3a);
    border-radius:2px; box-shadow:0 0 0 1px rgba(0,0,0,.02) inset;
    animation:grow-stem 900ms cubic-bezier(.2,.7,.1,1) forwards var(--delay,0s);
    will-change:height;
  }
  @keyframes grow-stem{to{height:var(--h,140px)}}

  /* Hojas */
  .leaf{
    position:absolute; width:26px; height:14px; background:radial-gradient(65% 100% at 40% 50%, #aaf2b9, var(--leaf));
    border-radius:14px 14px 14px 2px; transform-origin:10% 50%; opacity:0;
    box-shadow:inset 0 0 6px rgba(0,0,0,.08);
    animation:leaf-in 520ms ease forwards calc(var(--delay,0s) + .35s);
  }
  .leaf.l{ left:calc(50% - 22px); bottom:calc(var(--h,140px) * .45); transform:rotate(-18deg) }
  .leaf.r{ left:calc(50% - 4px);  bottom:calc(var(--h,140px) * .62); transform:scaleX(-1) rotate(-14deg) }
  @keyframes leaf-in{to{opacity:1}}

  /* Cabeza de la flor */
  .head{
    position:absolute; left:50%; bottom:var(--h,140px); transform:translate(-50%, 0) scale(.2);
    opacity:0; filter:drop-shadow(0 3px 2px rgba(0,0,0,.08));
    animation:bloom 520ms cubic-bezier(.2,.8,.1,1) forwards calc(var(--delay,0s) + .58s);
    will-change:transform,opacity;
  }
  @keyframes bloom{to{opacity:1; transform:translate(-50%, 0) scale(1)}}

  .petal{
    position:absolute; left:50%; top:50%; width:28px; height:42px; transform-origin:50% 90%;
    background:radial-gradient(60% 70% at 50% 35%, var(--petal-a), var(--petal-b) 55%, var(--petal-c));
    border-radius:18px 18px 10px 10px;
  }
  /* 8 p√©talos rotados */
  .p1{ transform:translate(-50%,-50%) rotate(0deg) }
  .p2{ transform:translate(-50%,-50%) rotate(45deg) }
  .p3{ transform:translate(-50%,-50%) rotate(90deg) }
  .p4{ transform:translate(-50%,-50%) rotate(135deg) }
  .p5{ transform:translate(-50%,-50%) rotate(180deg) }
  .p6{ transform:translate(-50%,-50%) rotate(225deg) }
  .p7{ transform:translate(-50%,-50%) rotate(270deg) }
  .p8{ transform:translate(-50%,-50%) rotate(315deg) }

  .center{
    position:absolute; left:50%; top:50%; width:20px; height:20px;
    background:radial-gradient(65% 65% at 40% 40%, #ffd57a, var(--center));
    border-radius:50%; transform:translate(-50%,-50%);
    box-shadow:inset 0 0 6px rgba(0,0,0,.15);
  }

  /* Mecerse con el viento (aplicado al contenedor .flower) */
  @keyframes sway{
    0%,100%{ transform:rotate(0deg) }
    50%    { transform:rotate(2.2deg) }
  }

  /* Bot√≥n */
  .actions{ position:absolute; right:16px; bottom:16px; z-index:3 }
  .btn{
    appearance:none; border:0; border-radius:14px; padding:10px 14px;
    background:#ffe08a; color:#4d3a1a; font-weight:600; cursor:pointer; box-shadow:var(--shadow);
    transition:transform .15s ease, box-shadow .15s ease;
  }
  .btn:hover{ transform:translateY(-2px); box-shadow:0 14px 30px rgba(0,0,0,.18) }
  .btn:active{ transform:translateY(0) }

  /* Accesibilidad */
  @media (prefers-reduced-motion:reduce){
    .hill, .flower{animation:none}
    .stem, .head, .leaf{animation-duration:.01ms; animation-iteration-count:1}
  }
</style>
</head>
<body>
  <section class="card" role="region" aria-label="Mensaje">
    <h1 class="title">Flores amarillas para ti</h1>
    <p class="subtitle">Aunque no pueda darte flores en persona, te env√≠o este peque√±o campo lleno de ellas.</p>
    <p class="note">Que cada una te recuerde lo mucho que iluminas mis d√≠as. üíõ</p>
  </section>

  <div class="hills">
    <div class="hill"></div>
    <div class="hill"></div>
  </div>

  <div class="meadow"></div>
  <div class="garden" id="garden" aria-hidden="true"></div>

  <div class="actions">
    <button class="btn" id="reseed">Volver a hacerlas florecer ‚ú®</button>
  </div>

<script>
  const garden = document.getElementById('garden');
  const reseedBtn = document.getElementById('reseed');

  // util
  const rand = (a,b)=>Math.random()*(b-a)+a;

  function plant(x, h, s, d){
    const flower = document.createElement('div');
    flower.className = 'flower';
    flower.style.left = x + 'vw';
    flower.style.setProperty('--h', h + 'px');
    flower.style.setProperty('--delay', d + 's');
    flower.style.animationDelay = (d + 0.9) + 's'; // el vaiv√©n empieza tras florecer
    flower.style.transform += ` scale(${s})`;

    const stem = document.createElement('div');
    stem.className = 'stem';

    const leafL = document.createElement('div');
    leafL.className = 'leaf l';
    const leafR = document.createElement('div');
    leafR.className = 'leaf r';

    const head = document.createElement('div');
    head.className = 'head';
    // p√©talos
    for(let i=1;i<=8;i++){
      const p = document.createElement('div');
      p.className = 'petal p'+i;
      head.appendChild(p);
    }
    const center = document.createElement('div');
    center.className = 'center';
    head.appendChild(center);

    flower.appendChild(stem);
    flower.appendChild(leafL);
    flower.appendChild(leafR);
    flower.appendChild(head);
    garden.appendChild(flower);
  }

  function seed(){
    garden.innerHTML = '';
    // Menos flores = mejor rendimiento y animaci√≥n m√°s limpia
    const COUNT = 26;
    // Distribuci√≥n horizontal natural (sin solapes bruscos)
    const slots = Array.from({length:COUNT}, (_,i)=> (i+0.5)*(100/COUNT));
    // Mezcla ligera
    slots.sort(()=>Math.random()-.5);

    for(let i=0;i<COUNT;i++){
      const x = Math.min(98, Math.max(2, slots[i] + rand(-2,2)));
      const height = rand(120, 170);         // alto de tallo
      const scale  = rand(0.88, 1.12);       // variaci√≥n sutil
      const delay  = i * 0.12;               // nacen secuencialmente
      plant(x, height, scale, delay);
    }
  }

  seed();
  reseedBtn.addEventListener('click', seed);
</script>
</body>
</html>
